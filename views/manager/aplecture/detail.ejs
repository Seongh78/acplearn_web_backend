<div id="content" class="fourteen wide column vapp">
    <h4 class="ui header">APL강좌 > 상세보기</h4>
    <hr>
    <!-- 강의 헤더 -->
    <h1 class="ui header"><%=apl.rec_title%></h1>
    <table class="ui celled table">
        <colgroup>
            <col width="12%;">
            <col width="38%;">

            <col width="12%;">
            <col width="38%;">
        </colgroup>
        <tbody>
            <tr>
                <td>강의기간</td>
                <td>{{ lecture.rec_date1 }} ~ {{ lecture.rec_date2 }}</td>
                <td>시간</td>
                <td>{{ lecture.rec_time }}</td>
            </tr>
            <tr>
                <td>금액</td>
                <td>{{ lecture.rec_price }}원</td>
                <td>정원</td>
                <td>{{ lecture.rec_count }}명</td>
            </tr>
            <tr>
                <td>장소</td>
                <td colspan="3">{{ lecture.rec_location }}</td>
            </tr>
        </tbody>
    </table>



    <div class="ui top attached tabular menu">
      <a class="item" v-bind:class="[thisTab=='f01'?'active':'']" v-on:click.prevent="selectTab('f01')">강의내용</a>
      <a class="item" v-bind:class="[thisTab=='f02'?'active':'']" v-on:click.prevent="selectTab('f02')">신청자관리</a>
      <a class="item" v-bind:class="[thisTab=='f03'?'active':'']" v-on:click.prevent="selectTab('f03')">댓글</a>
    </div>

    <!-- 강의내용 TAB -->
    <div class="ui bottom attached tab segment " v-bind:class="[thisTab=='f01'?'active':'']" >
        <h4>• 주요내용</h4>
        <p>{{ lecture.rec_content }}</p>
        <br>
        <h4>• 수강요건</h4>
        {{ lecture.rec_spec }}</p>
        <br>

        <h4>• 오시는길 및 기타</h4>
        <div class="">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3262.8602444645694!2d129.08969731534756!3d35.135160980325196!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3568ecf52b9112eb%3A0xcb01e20e7a776100!2z64yA7Jew7Jet!5e0!3m2!1sko!2skr!4v1510895998894" width="100%" height="400" frameborder="0" style="border:0" allowfullscreen></iframe>
        </div>

         

    </div>




    <!-- 신청자관리 TAB -->
    <div class="ui bottom attached tab segment" v-bind:class="[thisTab=='f02'?'active':'']" >
        <!-- 검색 -->
        <div class="ui secondary  menu" style="padding:0;">
          <div class="left menu" style="padding:0;">
            <div class="item" style="padding:0;">
              <div class="ui icon input">
                <input type="text" placeholder="Search...">
                <i class="search link icon"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- 신청자 목록 -->
        <table class="ui celled table">
            <colgroup>
                <col width="5%">
                <!-- <col width="16%">
                <col width="8%">
                <col width="6%">
                <col width="14%">
                <col width="10%">
                <col width="23%">
                <col width="8%">
                <col width="10%"> -->
            </colgroup>
            <thead>
            <tr>
              <th>no</th>
              <th class="center aligned">소속</th>
              <th class="center aligned">이름</th>
              <th class="center aligned">성별</th>
              <th class="center aligned">연락처</th>
              <th class="center aligned">강의분야</th>
              <th class="center aligned">주요경력/자격</th>
              <th class="center aligned">결제확인</th>
              <th class="center aligned">선발</th>
            </tr>
            </thead>
            <tbody>

            <tr v-for="tutor in tutors">
              <td>-</td>
              <td class="center aligned">{{ tutor.tutor_company }}</td>
              <td class="center aligned"><a v-on:click="selectTutor(tutor.tutor_idx)" id="prof">{{ tutor.tutor_name }}</a></td>
              <td class="center aligned">{{ tutor.tutor_gender }}</td>
              <td class="center aligned">{{ tutor.tutor_phone }}</td>
              <td class="center aligned"></td>
              <td class="center aligned"></td>
              <td class="center aligned">{{ tutor.tutor_payment }}</td>
              <td class="center aligned">
                  <input type="checkbox" name="" value="">
              </td>
            </tr>

            </tbody>
        </table>
        <br>
        <div class="ui two column centered grid">
          <div class="ui centered pagination menu">
                  <a class="icon item">
                    <i class="left chevron icon"></i>
                  </a>
                  <a class="item">1</a>
                  <a class="item">2</a>
                  <a class="item">3</a>
                  <a class="item">4</a>
                  <a class="icon item">
                    <i class="right chevron icon"></i>
                  </a>
                </div>
                <a onclick="confirm('선택하신 신청자들을 선발여부를 변경하시겠습니까?')">
                <div class="ui  animated button" tabindex="0" style="position:absolute; right:10px; height:40px; background:#4374D9; color: #fff;">
                  <div class="visible content ">선택한 수강생 선발</div>
                  <div class="hidden content">
                    <i class="right arrow icon"></i>
                  </div>
                </div></a>
        </div>
        <br>
    </div>



    <!-- 댓글TAB -->
    <div class="ui bottom attached tab segment comments" v-bind:class="[thisTab=='f03'?'active':'']" >

        <div class="comment">
          <a class="avatar">
            <img src="https://semantic-ui.com/images/avatar/small/matt.jpg">
          </a>
          <div class="content">
            <a class="author">Matt</a>
            <div class="metadata">
              <span class="date">Today at 5:42PM</span>
            </div>
            <div class="text">
              How artistic!
            </div>
            <div class="actions">
              <a class="reply">Reply</a>
            </div>
          </div>
        </div>
        <div class="comment">
          <a class="avatar">
            <img src="https://semantic-ui.com/images/avatar/small/elliot.jpg">
          </a>
          <div class="content">
            <a class="author">Elliot Fu</a>
            <div class="metadata">
              <span class="date">Yesterday at 12:30AM</span>
            </div>
            <div class="text">
              <p>This has been very useful for my research. Thanks as well!</p>
            </div>
            <div class="actions">
              <a class="reply">Reply</a>
            </div>
          </div>
          <div class="comments">
            <div class="comment">
              <a class="avatar">
                <img src="https://semantic-ui.com/images/avatar/small/jenny.jpg">
              </a>
              <div class="content">
                <a class="author">Jenny Hess</a>
                <div class="metadata">
                  <span class="date">Just now</span>
                </div>
                <div class="text">
                  Elliot you are always so right :)
                </div>
                <div class="actions">
                  <a class="reply">Reply</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="comment">
          <a class="avatar">
            <img src="https://semantic-ui.com/images/avatar/small/joe.jpg">
          </a>
          <div class="content">
            <a class="author">Joe Henderson</a>
            <div class="metadata">
              <span class="date">5 days ago</span>
            </div>
            <div class="text">
              Dude, this is awesome. Thanks so much
            </div>
            <div class="actions">
              <a class="reply">Reply</a>
            </div>
          </div>
        </div>
        <form class="ui reply form">
          <div class="field">
            <textarea></textarea>
          </div>
          <div class="ui blue labeled submit icon button">
            <i class="icon edit"></i> 등록
          </div>
        </form>

    </div>


<!-- BTNs -->
<div class="two wide column">
    <button type="button" class="ui primary button">강의내용수정</button>
    <button type="button" class="ui button red deleteBtn" v-on:click.prevent="del">삭제</button>
</div>




<!-- 기업등록 모달 -->
<div class="ui insertCompany modal">
    <i class="close icon"></i>
    <div class="header">강사정보 상세보기</div>
    <div class="content">
        <table class="ui celled table centerLayout">
            <tr>
                <td rowspan="4"><img src="https://semantic-ui.com/images/avatar/small/elliot.jpg" width="85%" alt=""></td>
                <td>이름</td>
                <td>{{tutor.tutor_name}}</td>
                <td>나이</td>
                <td>30세</td>
            </tr>
            <tr>
                <td>성별</td>
                <td>남</td>
                <td>연락처</td>
                <td>{{tutor.tutor_phone}}</td>
            </tr>
            <tr>
                <td>소속</td>
                <td>(주)비전플랜</td>
                <td>직급</td>
                <td>팀장</td>
            </tr>
            <tr>
                <td>이메일</td>
                <td>vpacplearn@gmail.com</td>
                <td>홈페이지</td>
                <td>https://www.naver.com/a</td>
            </tr>
        </table>
        <br>
        <table class="ui table celled centerLayout">
            <colgroup>
                <col width="15%">
            </colgroup>
            <tr>
                <td>강의분야</td>
                <td>
                    <p>리더십/ 산업안전/ 커뮤니케이션/ 화재안전</p>
                </td>
            </tr>
            <tr>
                <td>학력</td>
                <td>
                    <p>- 2015.03~2017.03 서울대학원</p>
                    <p>- 2012.03~2015.02 한양대학교</p>
                    <p>- 2010.03~2012.02 액션고등학교</p>
                </td>
            </tr>
            <tr>
                <td>주요경력/자격</td>
                <td>
                    <p>- 2015.03~2017.03 (주)비전플랜</p>
                    <p>- 2010.03~2015.03 (주)아카스타</p>
                    <p>- 2008.03~2010.03 (주)블루킹스</p>
                </td>
            </tr>
            <tr>
                <td>수상/저서</td>
                <td>
                    <p>- 2015.03~2017.03 OOO수상</p>
                    <p>- 2010.03~2015.03 XXX수상</p>
                    <p>- 2008.03~2010.03 PPP수상</p>
                </td>
            </tr>
            <tr>
                <td>프로필</td>
                <td>
                    <a href="#">박길동_강사소개서.pdf</a><button type="button" class="button">받기</button>
                </td>
            </tr>
        </table>

        <br>
        <div class="ui form right">
            <div class="inline fields">
                <label for="fruit">선발여부</label>
                <div class="field">
                    <div class="ui radio checkbox">
                        <input type="radio" name="fruit" checked="" tabindex="0" class="hidden"><label>선발</label>
                    </div>
                </div>
                <div class="field">
                    <div class="ui radio checkbox">
                        <input type="radio" name="fruit" tabindex="0" class="hidden"><label>탈락</label>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <div class="actions">
        <div class="ui black deny button">닫기</div>
        <div class="ui positive right labeled icon button">
            확인<i class="checkmark icon"></i>
        </div>
    </div>
</div>


<script type="text/javascript">
    // $('.menu .item').tab();
    // $(document).on('click', '#prof', function() {
    //     $('.ui.insertCompany').modal({duration:100}).modal('show');
    // })
</script>





</div>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.4/vue.min.js"></script>
<script type="text/javascript">
    new Vue({
        el: '.vapp',
        data: function(){
            return {
                lecture: {},
                tutors:[],
                tutor:{},
                thisTab:'f01',
                errors: []
            }
        },

        created () {
            let pid = window.location.href.split('/');
                  pid = pid[pid.length-1];

            axios.all([
                axios.get('/api/aplectures/'+pid),
                axios.get('/api/aplectures/application/'+pid+'/list')
            ])
            .then((resp)=>{
                // console.log(resp);
                if (resp[0].status !== 200) {
                    alert('사소한 문제가 발생했습니다. 다시 시도해 주세요 :( ');
                    return;
                }
                this.lecture = resp[0].data.data;
                this.tutors = resp[1].data.result;
            });
        },

        methods: {
            selectTab(s) {
                this.thisTab=s;
            },

            selectTutor(i){
                var tutor_id = i;
                $('.ui.insertCompany').modal({duration:0}).modal('show');
                axios.get('/api/aplectures/tutor/'+tutor_id)
                .then((resp)=>{
                    console.log(resp.data.data);
                    this.tutor = resp.data.data;
                });
            }
        }//method
    });




</script>
